<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monopoly Go - Heist Simulation</title>
    <meta name="Description" content="Sometimes you just play with things">
    
    
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Adventures in Coding">
    
    <!-- code block style -->
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet"/>

    <script defer src="https://kit.fontawesome.com/1b01ea6d0e.js" crossorigin="anonymous"></script>
      
  </head>
  <body>
    <!-- capture the CSS content as a Nunjucks variable -->
    
    <!-- feed it through our cssmin filter to minify -->
    <style>
      :root{--red:#C5004A;--darkred:#7F0036;--lightgray:#e0e0e0;--gray:#C0C0C0;--darkgray:#333;--navy:#17050F;--blue:#082840;--white:#fff;--university-blue:#003087;--rhythm-blue:#1F3A60;--spirit-blue:#00ADE6;--river-blue:#D0E6E8;--true-blue:#3569A7;--university-gray:#898D8D;--patterson-gray:#717C7D;--highland-gray:#BFCDCB;--highlighter-blue:#0dd5fc;--highlighter-yellow:#fdff32;--highlighter-green:#8cff32;--black:#000;--bluff-beige:#F5E9BD;--font-bitter:'Bitter';font-family:Montserrat}*{box-sizing:border-box}body,html{padding:0;margin:0;font-family:sans-serif;color:var(--university-blue);background-color:var(--white)}::selection{background-color:var(--highlighter-yellow)}p:last-child{margin-bottom:0}.tmpl-post li,img,p{max-width:37.5em}.tmpl-post li,p{line-height:1.45}blockquote p{background-color:var(--rhythm-blue);padding:1em;color:#fff}a[href]{color:var(--university-blue);font-weight:700}main{padding:1rem}main :first-child{margin-top:0}header{border-bottom:1px dashed var(--university-blue)}header:after{content:"";display:table;clear:both}table{margin:1em 0}table td,table th{padding-right:1em}code,pre{font-family:Consolas,Menlo,Monaco,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace;line-height:1.5}pre{font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;background-color:#f6f6f6}.highlight-line{display:block;padding:.125em 1em;text-decoration:none;color:inherit}.highlight-line:empty:before{content:" "}.highlight-line+br{display:none}.highlight-line-isdir{color:#b0b0b0;background-color:#222}.highlight-line-active{background-color:#444;background-color:hsla(0,0%,27%,.8)}.highlight-line-add{background-color:#45844b}.highlight-line-remove{background-color:#902f2f}footer,header{background-color:var(--university-blue);color:var(--white)}header .contact{float:right;padding:0 1rem;margin:1rem 1rem;font-size:1.5rem}footer a[href],header a[href]{color:#fff}.home{float:left;padding:0 1rem;margin:1rem 1rem;font-size:1em}footer{width:100%;text-align:center}foot *{text-align:center}.home :link:not(:hover),footer :link:not(:hover){text-decoration:none}.nav{padding:0;list-style:none;float:left;margin-left:1em}.nav-item{display:inline-block;margin-right:1em}.nav-item a[href]:not(:hover){text-decoration:none}.nav-item-active{font-weight:700;text-decoration:underline}.postlist{list-style:none;padding:0;margin:.2em}.postlist-item{counter-increment:start-from -1}.postlist-item:before{display:inline-block;pointer-events:none;content:"" counter(start-from,decimal-leading-zero) ". ";line-height:100%;text-align:right}.postlist-date,.postlist-item:before{font-size:.8125em;color:var(--darkgray)}.postlist-date{word-spacing:-.5px}.postlist-link{display:inline-block}.postlist-item-active .postlist-link{font-weight:700}.postlist-date,.postlist-link,a.tag{padding:5px 5px;margin:14px 7px}.tmpl-home .postlist-link{font-size:1.1875em;font-weight:700}p.description{margin:1em 0 .5em 2em;margin-block-start:0}#tag-cloud{font-size:20px}h1{color:#000}a.tag{display:inline-block;vertical-align:middle;text-transform:uppercase;font-size:.625em;background-color:var(--university-blue);color:var(--university-gray);border-radius:.25em;text-decoration:none}a[href].tag,a[href].tag:visited{color:#fff}.contact a{padding-right:21px}.warning{background-color:#ffc;padding:1em .625em}.warning ol:only-child{margin:0}.direct-link{font-family:sans-serif;text-decoration:none;font-style:normal;margin-left:.1em}a[href].direct-link,a[href].direct-link:visited{color:transparent}:hover>a[href].direct-link,:hover>a[href].direct-link:visited,a[href].direct-link:focus,a[href].direct-link:focus:visited{color:#aaa}@media only screen and(max-width:600px){main{margin:0 10px}}@media only screen and (min-width:601px){main{margin:0 5%}}@media only screen and (min-width:992px){main{margin:0 10%}}@media only screen and (min-width:1200px){main{margin:0 15%}}body,html{height:100%}body{display:flex;flex-direction:column}main{flex:1 0 auto}footer{flex-shrink:0}
    </style>
  
    <header>
      <h1 class="home"><a href="/"><i class="fas fa-terminal" aria-hidden="true"></i> Adventures in Coding</a></h1>
      <ul class="nav"><li class="nav-item"><a href="/resume/">Resume</a></li><li class="nav-item"><a href="/posts/">Blog</a></li><li class="nav-item"><a href="/about/">Bio</a></li></ul>
      <span class='contact'>
        <a aria-label="linkedin" href="https://linkedin.mccarty.dev"><i class="fab fa-linkedin"></i></a>
        <a aria-label="dev dot to" href="https://devto.mccarty.dev"><i class="fab fa-dev"></i></a>
        <a aria-label="github" href="https://github.mccarty.dev"><i class="fab fa-github"></i></a>
        <a aria-label="email" href="mailto:Corey@McCarty.dev"><i class="fas fa-envelope"></i></a>
        <a aria-label="phone number" href="tel:‪(901) 832-7968‬"><i class="fas fa-phone"></i>‬</a>
      </span>
    </header>

    <main class="tmpl-post">
      
<div class="post top">
  <h1><i class="fas fa-terminal" aria-hidden="true"></i> Monopoly Go - Heist Simulation</h1>
  
    <a href="/tags/python/" class="tag">python</a>
    <a href="/tags/programming/" class="tag">programming</a>
    <a href="/tags/softwaredevelopment/" class="tag">softwaredevelopment</a>
    <a href="/tags/ai/" class="tag">ai</a>
  
    <p>Sometimes you just play with things</p>
  
  <hr>
</div>

<div class="post main">
  <p>My wife and I enjoy playing Monopoly Go, and I often find myself wanting to simulate different parts of the game just to run analysis on different aspects of gameplay. Today I found myself questioning the possibile differences in selection strategy for the Bank Heist minigame. I wanted to do this quickly so that it didn't distract me from work for too long. Let's walk through my process.</p>
<h2>The Premise</h2>
<p>In this minigame there is a 3x4 grid of bank vault doors for you to open. Behind each door is one of three items. The diamond ring corresponds with the max award, the stack of money is 2/3 of the max award, and the coin is 1/3 of the max award. Once you have matched three of the same item then you receive the corresponding award.</p>
<p>When I play this game I'd previously theorized that using the same selection sequence every time would reduce variability and maximize winnings. Ultimately I have no clue, and it seems like it would be pretty straight forward to simulate. There are 12 items of three varieties, you can select max 7 doors, and all items are displayed after you complete the minigame so the number of each item can easily be seen.</p>
<h2>Let's Make a Simulation</h2>
<p>After getting a python file opened for the simulation, I begin with this comment up top.</p>
<pre class="language-python"><code class="language-python"><span class="token triple-quoted-string string">"""<br>I want to test strategy on monopoly go heist.<br>There are 12 positions and three possible items<br>once you collect three of a given item then you get the score associated with the item<br><br>There are 3 of the lowest, and 4 each of the highest items.<br>These items are placed in random order<br><br>The strategies to be tested will be<br>1. a fixed order of selection<br>2. a random order of selection<br>"""</span></code></pre>
<p>My next step was to open a new chat in ChatGPT. I'm using the free tier because I haven't been able to justify paying yet. One assumption that I made was to order the items as integers with increasing value.</p>
<h3>Arrange the Items</h3>
<p>Prompt:</p>
<pre><code>I want a python function that will randomly order a set of repeating items. 
The items in the collection are 3 items of value 1, 5 items of value 2, and 4 items of value 3. 
The function should generate a list of 12 items consisting of those described and ordered randomly. 
</code></pre>
<p>ChatGPT then gives a bit of other information with the centerpiece being this snippet.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> random<br><br><span class="token keyword">def</span> <span class="token function">random_order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment"># Define the items</span><br>    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>items<span class="token punctuation">)</span>  <span class="token comment"># Shuffle the items randomly</span><br>    <span class="token keyword">return</span> items<br><br>random_list <span class="token operator">=</span> random_order<span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token keyword">print</span><span class="token punctuation">(</span>random_list<span class="token punctuation">)</span></code></pre>
<p>After distilling this down, I have a working function.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> random<br><span class="token keyword">def</span> <span class="token function">get_heist_items</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><br>    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>items<span class="token punctuation">)</span><br>    <span class="token keyword">return</span> items</code></pre>
<p>That will do it.</p>
<h3>Get the Selection Order</h3>
<p>Prompt:</p>
<pre><code>I would now like a python function that will select 7 items. The items being selected will be the indexes of a list with a given length.
</code></pre>
<p>The ChatGPT solution is this.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">select_indexes</span><span class="token punctuation">(</span>list_length<span class="token punctuation">,</span> num_items<span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">if</span> num_items <span class="token operator">></span> list_length<span class="token punctuation">:</span><br>        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">"Number of items to select cannot be greater than the length of the list."</span><span class="token punctuation">)</span><br>    indexes <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>list_length<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># Generate a list of indexes from 0 to list_length - 1</span><br>    selected_indexes <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>indexes<span class="token punctuation">,</span> num_items<span class="token punctuation">)</span>  <span class="token comment"># Select num_items indexes randomly</span><br>    <span class="token keyword">return</span> selected_indexes<br><br>list_length <span class="token operator">=</span> <span class="token number">12</span>  <span class="token comment"># Length of the list</span><br>num_items <span class="token operator">=</span> <span class="token number">7</span>  <span class="token comment"># Number of items to select</span><br>selected_indexes <span class="token operator">=</span> select_indexes<span class="token punctuation">(</span>list_length<span class="token punctuation">,</span> num_items<span class="token punctuation">)</span><br><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Selected indexes:"</span><span class="token punctuation">,</span> selected_indexes<span class="token punctuation">)</span></code></pre>
<p>I then distilled that into something I like better.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_random_selection_order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    selection_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token keyword">return</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>selection_list<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span></code></pre>
<p>Since I'm going to be comparing the random selection to my personal fixed selection, I took the time to figure out the indexes I normally pick. These are the corners top right, top left, bottom left, and bottom right. And that's followed by the center row from third item back to the left. (At some point I decided that I believed the corners and middle-most two had higher occurance of max value item, but I know that's likely a lie). Those indexes are easily returned as a list.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_fixed_selection_order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span></code></pre>
<h3>Simulate!</h3>
<p>I proceeded to write this bit to walk through how to simulate asserting a selection order on a randomly ordered group of items. For good measure I added an optional argument for whether or not to use random selection strategy.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">single_simulation</span><span class="token punctuation">(</span>random_selection<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    counts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><br>    bank <span class="token operator">=</span> get_heist_items<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token keyword">print</span><span class="token punctuation">(</span>bank<span class="token punctuation">)</span><br>    selection_order <span class="token operator">=</span> get_random_selection_order<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> random_selection <span class="token keyword">else</span> get_fixed_selection_order<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token keyword">print</span><span class="token punctuation">(</span>selection_order<span class="token punctuation">)</span><br>    selected_items <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token keyword">for</span> position <span class="token keyword">in</span> selection_order<span class="token punctuation">:</span><br>        item_value <span class="token operator">=</span> bank<span class="token punctuation">[</span>position<span class="token punctuation">]</span><br>        selected_items<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item_value<span class="token punctuation">)</span><br>        counts<span class="token punctuation">[</span>item_value<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><br>        <span class="token keyword">if</span> counts<span class="token punctuation">[</span>item_value<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span><br>            <span class="token keyword">print</span><span class="token punctuation">(</span>selected_items<span class="token punctuation">,</span> item_value<span class="token punctuation">)</span><br>            <span class="token keyword">return</span> item_value</code></pre>
<p>I did a few initial tests as such.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span><br>    single_simulation<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Great, now I can start simulating multiple runs of each!</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span><br>    simulation_count <span class="token operator">=</span> <span class="token number">100</span><br>    random_sum <span class="token operator">=</span> <span class="token punctuation">[</span>single_simulation<span class="token punctuation">(</span>random_selection<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>simulation_count<span class="token punctuation">)</span><span class="token punctuation">]</span><br>    fixed_sum <span class="token operator">=</span> <span class="token punctuation">[</span>single_simulation<span class="token punctuation">(</span>random_selection<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>simulation_count<span class="token punctuation">)</span><span class="token punctuation">]</span><br>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Random:'</span><span class="token punctuation">,</span> random_sum<span class="token punctuation">)</span><br>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Fixed:'</span><span class="token punctuation">,</span> fixed_sum<span class="token punctuation">)</span></code></pre>
<p>I went on to run this for 1k and 1M simulations of each selection type and it's becoming quite obvious that the selection strategy doesn't matter. The odds are pretty even. But, I've gone through making this thing and would like to clean up the execution a bit, and wouldn't it be cool if I could test both selection methods on the same item set.</p>
<h3>Refactor</h3>
<p>In order to run both selections on the same game/item set I needed to refactor this a little bit. The evaluation of a selection set needs to be separate from where it's being generated.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">single_simulation</span><span class="token punctuation">(</span>random_selection<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    bank <span class="token operator">=</span> get_heist_items<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token comment"># print('Bank:', bank)</span><br>    selection_order <span class="token operator">=</span> get_random_selection_order<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> random_selection <span class="token keyword">else</span> get_fixed_selection_order<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token comment"># print('Selection Order:', selection_order)</span><br>    <span class="token keyword">return</span> simulation_selection<span class="token punctuation">(</span>bank<span class="token punctuation">,</span> selection_order<span class="token punctuation">)</span><br><br><br><span class="token keyword">def</span> <span class="token function">simulation_selection</span><span class="token punctuation">(</span>bank<span class="token punctuation">,</span> selection_order<span class="token punctuation">)</span><span class="token punctuation">:</span><br>    counts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><br>    selected_items <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token keyword">for</span> position <span class="token keyword">in</span> selection_order<span class="token punctuation">:</span><br>        item_value <span class="token operator">=</span> bank<span class="token punctuation">[</span>position<span class="token punctuation">]</span><br>        selected_items<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item_value<span class="token punctuation">)</span><br>        counts<span class="token punctuation">[</span>item_value<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><br>        <span class="token keyword">if</span> counts<span class="token punctuation">[</span>item_value<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span><br>            <span class="token comment"># print(selected_items, item_value)</span><br>            <span class="token keyword">return</span> item_value</code></pre>
<p>And now I can test both selection types and evaluate which wins on a given game.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">complex_simulation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    bank <span class="token operator">=</span> get_heist_items<span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>    random_selection <span class="token operator">=</span> get_random_selection_order<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    random_score <span class="token operator">=</span>  simulation_selection<span class="token punctuation">(</span>bank<span class="token punctuation">,</span> random_selection<span class="token punctuation">)</span><br><br>    fixed_selection <span class="token operator">=</span> get_fixed_selection_order<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    fixed_score <span class="token operator">=</span> simulation_selection<span class="token punctuation">(</span>bank<span class="token punctuation">,</span> fixed_selection<span class="token punctuation">)</span><br><br>    <span class="token keyword">if</span> random_score <span class="token operator">==</span> fixed_score<span class="token punctuation">:</span><br>        <span class="token keyword">return</span> <span class="token string">'TIE'</span><br>    <span class="token keyword">if</span> random_score <span class="token operator">></span> fixed_score<span class="token punctuation">:</span><br>        <span class="token keyword">return</span> <span class="token string">'RANDOM'</span><br>    <span class="token keyword">return</span> <span class="token string">'FIXED'</span></code></pre>
<p>After doing a few runs to ensure that this simulation is working correctly to evaluate a winner of the game, I need to run it a bunch of times and get the results. I also ask Chat GPT to give me a quick way to count the recurring elements of a list. It proposes a couple of solutions and I opt to use <code>collections.Counter</code>. I wind up with this.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter<br><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span><br>    simulation_count <span class="token operator">=</span> <span class="token number">1_000</span><br>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">(</span>Counter<span class="token punctuation">(</span><span class="token punctuation">[</span>complex_simulation<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>simulation_count<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<p>output:</p>
<pre><code>{'RANDOM': 293, 'TIE': 421, 'FIXED': 286}
</code></pre>
<p>I like it. Now is there a way to clean up the print out? I'd like to have the numbers include American order of magnitude separators as a comma. I can iterate over the items in the dictionary and use an f-string to format the numbers with desired commas.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span><br>    simulation_count <span class="token operator">=</span> <span class="token number">1_000_000</span><br>    winning_results <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>Counter<span class="token punctuation">(</span><span class="token punctuation">[</span>complex_simulation<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>simulation_count<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>k<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>v<span class="token punctuation">:</span><span class="token format-spec">,</span><span class="token punctuation">}</span></span><span class="token string">;'</span></span> <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> winning_results<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>output:</p>
<pre><code>['TIE: 437,737;', 'FIXED: 281,375;', 'RANDOM: 280,888;']
</code></pre>
<p>And now the commas between the items in that list are a bit annoying among the numerical commas. I'll use a string join to get rid of them.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span><br>    simulation_count <span class="token operator">=</span> <span class="token number">1_000_000</span><br>    winning_results <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>Counter<span class="token punctuation">(</span><span class="token punctuation">[</span>complex_simulation<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>simulation_count<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>k<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>v<span class="token punctuation">:</span><span class="token format-spec">,</span><span class="token punctuation">}</span></span><span class="token string">'</span></span> <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> winning_results<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
<h3>Results</h3>
<p>In the end I determined that there's not a significant difference in the selection strategies, but I enjoyed the process and decided to share it with you.</p>
<pre><code>TIE: 436,321 RANDOM: 281,926 FIXED: 281,753
</code></pre>
<p>And if you'd like to see the completed code then here you are:</p>
<pre class="language-python"><code class="language-python"><span class="token triple-quoted-string string">"""<br>I want to test strategy on monopoly go heist.<br>There are 12 positions and three possible items<br>once you collect three of a given item then you get the score associated with the item<br><br>There are 3 of the lowest, and 4 each of the highest items.<br>These items are placed in random order<br><br>The strategies to be tested will be<br>1. a fixed order of selection<br>2. a random order of selection<br>"""</span><br><span class="token keyword">import</span> random<br><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter<br><br><br><span class="token keyword">def</span> <span class="token function">get_heist_items</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><br>    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>items<span class="token punctuation">)</span><br>    <span class="token keyword">return</span> items<br><br><br><span class="token keyword">def</span> <span class="token function">get_random_selection_order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    selection_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token keyword">return</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>selection_list<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><br><br><br><span class="token keyword">def</span> <span class="token function">get_fixed_selection_order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><br><br><br><span class="token keyword">def</span> <span class="token function">single_simulation</span><span class="token punctuation">(</span>random_selection<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    bank <span class="token operator">=</span> get_heist_items<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token comment"># print('Bank:', bank)</span><br>    selection_order <span class="token operator">=</span> get_random_selection_order<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> random_selection <span class="token keyword">else</span> get_fixed_selection_order<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token comment"># print('Selection Order:', selection_order)</span><br>    <span class="token keyword">return</span> simulation_selection<span class="token punctuation">(</span>bank<span class="token punctuation">,</span> selection_order<span class="token punctuation">)</span><br><br><br><span class="token keyword">def</span> <span class="token function">simulation_selection</span><span class="token punctuation">(</span>bank<span class="token punctuation">,</span> selection_order<span class="token punctuation">)</span><span class="token punctuation">:</span><br>    counts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><br>    selected_items <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token keyword">for</span> position <span class="token keyword">in</span> selection_order<span class="token punctuation">:</span><br>        item_value <span class="token operator">=</span> bank<span class="token punctuation">[</span>position<span class="token punctuation">]</span><br>        selected_items<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item_value<span class="token punctuation">)</span><br>        counts<span class="token punctuation">[</span>item_value<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span><br>        <span class="token keyword">if</span> counts<span class="token punctuation">[</span>item_value<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span><br>            <span class="token comment"># print(selected_items, item_value)</span><br>            <span class="token keyword">return</span> item_value<br><br><br><span class="token keyword">def</span> <span class="token function">complex_simulation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    bank <span class="token operator">=</span> get_heist_items<span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>    random_selection <span class="token operator">=</span> get_random_selection_order<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    random_score <span class="token operator">=</span> simulation_selection<span class="token punctuation">(</span>bank<span class="token punctuation">,</span> random_selection<span class="token punctuation">)</span><br><br>    fixed_selection <span class="token operator">=</span> get_fixed_selection_order<span class="token punctuation">(</span><span class="token punctuation">)</span><br>    fixed_score <span class="token operator">=</span> simulation_selection<span class="token punctuation">(</span>bank<span class="token punctuation">,</span> fixed_selection<span class="token punctuation">)</span><br><br>    <span class="token keyword">if</span> random_score <span class="token operator">==</span> fixed_score<span class="token punctuation">:</span><br>        <span class="token keyword">return</span> <span class="token string">'TIE'</span><br>    <span class="token keyword">if</span> random_score <span class="token operator">></span> fixed_score<span class="token punctuation">:</span><br>        <span class="token keyword">return</span> <span class="token string">'RANDOM'</span><br>    <span class="token keyword">return</span> <span class="token string">'FIXED'</span><br><br><br><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span><br>    simulation_count <span class="token operator">=</span> <span class="token number">1_000_000</span><br>    winning_results <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>Counter<span class="token punctuation">(</span><span class="token punctuation">[</span>complex_simulation<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>simulation_count<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>k<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>v<span class="token punctuation">:</span><span class="token format-spec">,</span><span class="token punctuation">}</span></span><span class="token string">'</span></span> <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token keyword">in</span> winning_results<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>

</div>

<div class="post bottom">
  <hr>
  <p>Related topics:
  
      <a href="/tags/python/" class="tag">python</a>
      <a href="/tags/programming/" class="tag">programming</a>
      <a href="/tags/softwaredevelopment/" class="tag">softwaredevelopment</a>
      <a href="/tags/ai/" class="tag">ai</a>
  </p>
  <p><a href="/">← Home</a></p>
</div>

    </main>

    <footer>
      &copy; Corey McCarty 
      <br>
      Thanks for reading! <a href="https://11ty.io">Built using 11ty </a><a href="https://github.com/11ty/eleventy-base-blog">base blog</a>.
      <br>
    </footer>

    <!-- Current page: /posts/2024_04_08_monopoly_go/ -->
  </body>
</html>
